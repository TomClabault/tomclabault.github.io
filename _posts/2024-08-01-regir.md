---
layout: distill
title: ReGIR - An advanced implementation for offline rendering
date: 2025-08-17 14:45:00+0200
description: ReGIR - An advanced implementation for many-lights offline rendering
tags: path-tracing
thumbnail: assets/img/blogs/regir/thumbnail.jpg
categories: hiprt-path-tracer
related_posts: false
related_publications: true

bibliography: blogs/regir.bib
---

# ReGIR basics
	- We won't be introducing RIS, plenty of resources to do the job better than me
	- ReGIR basics: RIS per grid cell per reservoir. RIS again at shading time
- Improving ReGIR
	- Representative cell data --> get closer to the integrand with cosine terms and everything
	- Spatial reuse
	- Integration with NEE++
	- Hash grid with surface normals
	- Hash grid with wavy cells to avoid aliasing
	- BRDF resampling at primary hits
		- Better product sampling options out there
		- Doesn't work at secondary hits
- Avoiding bias
	- With cosine terms and everything in the grid fill target function, we now have an issue because some lights may be rejected -> need canonical samples
		- We need good MIS weights so that canonical sample don't add too much noise
	- Bias on perfect mirror surfaces: we need BSDF samples MIS at shading time
		- MIS: New multi-pairwise MIS for shading
- Correlations
	- More reservoirs per cell
	- Using reservoirs of past frames to improve the effective reservoir count at frame N
		- Doesn't work when accumulating because we now have temporal correlations in between frames
- Improving performance
	- Light presampling
	- Less reservoirs at later bounces
- Improving base sampling
	- Cache cells
	- Variance issue when we have a ton of lights contributing to the same cell but our alias table can only contain so many lights so the rest has to be sample with a fallback sampling technique which adds a ton of noise
- A note on adapting that to real-time

